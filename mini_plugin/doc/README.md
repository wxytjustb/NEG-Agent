# AI 助手对话插件

## 插件简介

本插件提供了一个功能完整的 AI 智能助手对话界面，支持实时流式输出，为小程序提供强大的 AI 对话能力。

## 主要功能

### 1. 智能对话
- 支持与 AI 助手进行自然语言对话
- 实时流式输出，逐字显示 AI 回复
- 自动保存对话历史

### 2. 用户体验优化
- 自动滚动到最新消息
- 用户手动滚动时暂停自动滚动
- 发送新消息时重新启用自动滚动
- 流畅的消息气泡动画

### 3. 会话管理
- 自动初始化会话
- 安全的 Token 认证机制
- 会话状态持久化

## 使用方法

### 引入插件

```json
{
  "plugins": {
    "aiChat": {
      "version": "1.0.0",
      "provider": "wxca97fd5cb9133d0d1"
    }
  }
}
```

### 使用插件页面

在页面中跳转到插件页面：

```javascript
wx.navigateTo({
  url: 'plugin://aiChat/hello-page'
})
```

### 配置后端服务

插件需要连接后端 API 服务，默认地址为 `http://127.0.0.1:8000`。

在生产环境中，需要修改 `hello-page.js` 中的 `apiBaseUrl` 配置：

```javascript
apiBaseUrl: 'https://your-api-domain.com'
```

## 技术特性

- **流式输出**：采用 SSE (Server-Sent Events) 技术实现实时流式对话
- **智能滚动**：自动检测用户滚动行为，智能控制自动滚动
- **安全认证**：基于 Session Token 的安全认证机制
- **错误处理**：完善的网络错误和超时处理

## 注意事项

1. 使用前请确保后端服务已正确部署并运行
2. 需要提供有效的 `access_token` 进行用户认证
3. 首次使用时会自动初始化会话，请稍候片刻
4. 建议在 Wi-Fi 环境下使用以获得更好的体验

## 更新日志

### v1.0.0 (2025-11-30)
- 初始版本发布
- 支持基础 AI 对话功能
- 实现流式输出
- 添加智能滚动控制

## 技术支持

如有问题或建议，请联系开发者。




